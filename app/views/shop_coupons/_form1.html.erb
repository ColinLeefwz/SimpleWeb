<ul class="formlist" style="margin-top: 0px;">
  <li>
    <label>使用规则:</label>
    <%= f.select :rule, [['每日签到优惠', 0],['每日前几名签到优惠',1],['新用户首次签到优惠', 2],["累计签到优惠", 3]],{}, {:class => "txt", :onchange => "show_rulev($(this).val())"} %>
  </li>
  <li id="rulev" style="display:<%= [1,3].include?(@coupon.rule.to_i) ? '' : 'none' %>">
    <label id="lt"><%= rulev_lable(@coupon.rule.to_i) %></label>
    <%= f.text_field :rulev, :class => "txt"%>
  </li>
  <li>
    <input type="submit" value="发 布" class="btn"/>
  </li>
</ul>

<script type="text/javascript">
  function show_rulev(rv){
    if(rv == '1' || rv == '3')
    {
      $('#rulev').show();
      lt = rv == '1' ? '前几名：' : "累计次数："
      $('#lt').replaceWith('<label id="lt">' + lt + '</label>')
    }
    else
      $('#rulev').hide();
  }
</script>