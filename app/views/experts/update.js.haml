:plain
  $(document).ready(function(){
    $(".main-menu").html("#{j(render partial: @from)}");
    CKEDITOR.replaceAll();

    $('#session-cover-input').change(function(){
      filename = $(this).val();
    });

    $('#session-video-input').change(function(){
      filename = $(this).val();
    });


    $("#session-cover-input").change(function(){
      readURL(this);
    });

    $("#session-video-input").change(function(){
      $(".live-modal-video-frame").css("display", "block");
    });

    $(".modal-submit").click(function(){
      $("#modal").modal("hide");
    });

    function readURL(input) {
      if (input.files && input.files[0]){
        var reader = new FileReader();
        reader.onload = function (e) {
          $("#default-session-cover").css("display", "none");
          $("#session-cover").css("display", "block");
          $("#session-cover").attr("src", e.target.result);
        }
        reader.readAsDataURL(input.files[0]);
      }
    }
    
    $("#session-preview").on("click", function(){
      var mon_arr = new Array("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December");
      var date = new Date();
      var mm = date.getMonth();
      var dd = date.getDate();
      $("#session-datetime").html('originally published on ' + mon_arr[mm] + " " + dd + " |");

      var title = $("#session-title-input").val();
      $("#session-title").html("<h1>"+title+"</h1>");

      $("input:checked").each(function(){
        $("#article-session-categories").html($("#article-session-categories").html() + " " + $(this).next("label").text());
        $("#live-session-categories").html($("#live-session-categories").html() + "<p>" + $(this).next("label").text() + "</p>");
      });
      if(CKEDITOR.instances["live_session_description"] != undefined){
        live_description = CKEDITOR.instances["live_session_description"].getData();
        $("#live-session-description").html(live_description);
      }
      if(CKEDITOR.instances["article_session_description"] != undefined){
        article_description = CKEDITOR.instances['article_session_description'].getData();
        $("#article-session-description").html(article_description);
      }
    });
  });
  

